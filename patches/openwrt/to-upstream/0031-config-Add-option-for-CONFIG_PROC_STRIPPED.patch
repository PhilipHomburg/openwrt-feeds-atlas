From 574b8928c66da92731b29b92f6032518a2ddb851 Mon Sep 17 00:00:00 2001
From: Ben Kochie <superq@gmail.com>
Date: Mon, 6 Apr 2020 10:23:41 +0200
Subject: [PATCH] config: Add option for CONFIG_PROC_STRIPPED

Allow downstream projects to configure the kernel
CONFIG_PROC_STRIPPED patch.

Signed-off-by: Ben Kochie <superq@gmail.com>
---
 config/Config-kernel.in          | 4 ++++
 target/linux/generic/config-4.14 | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/config/Config-kernel.in b/config/Config-kernel.in
index 87053b7..e60ecb3 100644
--- a/config/Config-kernel.in
+++ b/config/Config-kernel.in
@@ -248,6 +248,10 @@ config KERNEL_SLUB_DEBUG
 
 config KERNEL_SLUB_DEBUG_ON
 	bool
+ 
+config KERNEL_PROC_STRIPPED
+	bool "Strip extra proc files"
+	default y
 
 config KERNEL_SLABINFO
 	select KERNEL_SLUB_DEBUG
diff --git a/target/linux/generic/config-4.14 b/target/linux/generic/config-4.14
index 3e39b5c..042fab0 100644
--- a/target/linux/generic/config-4.14
+++ b/target/linux/generic/config-4.14
@@ -2735,7 +2735,7 @@ CONFIG_MODULES=y
 # CONFIG_MODULE_FORCE_UNLOAD is not set
 # CONFIG_MODULE_SIG is not set
 # CONFIG_MODULE_SRCVERSION_ALL is not set
-CONFIG_MODULE_STRIPPED=y
+# CONFIG_MODULE_STRIPPED is not set
 CONFIG_MODULE_UNLOAD=y
 # CONFIG_MODVERSIONS is not set
 # CONFIG_MOST is not set
-- 
2.30.0

